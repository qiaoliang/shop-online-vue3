# BMad 知识库

## 概述

BMad-Method (突破性敏捷 AI 驱动开发方法) 是一个将 AI 代理与敏捷开发方法相结合的框架。v4 系统引入了模块化架构，改进了依赖管理、捆绑优化，并支持 Web 和 IDE 环境。

### 主要特点

- **模块化代理系统**：针对每个敏捷角色的专业 AI 代理
- **构建系统**：自动化依赖解析和优化
- **双环境支持**：针对 Web UI 和 IDE 进行了优化
- **可重用资源**：可移植的模板、任务和清单
- **斜杠命令集成**：快速代理切换和控制

### 何时使用 BMad

- **新项目 (Greenfield)**：完整的端到端开发
- **现有项目 (Brownfield)**：功能添加和增强
- **团队协作**：多个角色协同工作
- **质量保证**：结构化测试和验证
- **文档**：专业的 PRD、架构文档、用户故事

## BMad 如何工作

### 核心方法

BMad 将您转变为“氛围 CEO”——通过结构化工作流指导一支专业的 AI 代理团队。具体如下：

1. **您指挥，AI 执行**：您提供愿景和决策；代理处理实施细节
2. **专业代理**：每个代理掌握一个角色（PM、开发人员、架构师等）
3. **结构化工作流**：经过验证的模式指导您从想法到部署代码
4. **清晰交接**：全新的上下文窗口确保代理保持专注和高效

### 两阶段方法

#### 阶段 1：规划 (Web UI - 成本效益高)

- 使用大型上下文窗口（Gemini 的 1M token）
- 生成全面的文档（PRD、架构）
- 利用多个代理进行头脑风暴
- 一次创建，在整个开发过程中使用

#### 阶段 2：开发 (IDE - 实施)

- 将文档分片为可管理的部分
- 执行专注的 SM → 开发周期
- 一次一个故事，顺序进展
- 实时文件操作和测试

### 开发循环

```text
1. SM 代理 (新聊天) → 从分片文档创建下一个故事
2. 您 → 审查并批准故事
3. 开发代理 (新聊天) → 实施批准的故事
4. QA 代理 (新聊天) → 审查和重构代码
5. 您 → 验证完成
6. 重复直到史诗完成
```

### 为什么这有效

- **上下文优化**：干净的聊天 = 更好的 AI 性能
- **角色清晰**：代理不进行上下文切换 = 更高质量
- **增量进展**：小故事 = 可管理的复杂性
- **人工监督**：您验证每个步骤 = 质量控制
- **文档驱动**：规范指导一切 = 一致性

## 入门

### 快速启动选项

#### 选项 1：Web UI

**最适合**：希望立即开始的 ChatGPT、Claude、Gemini 用户

1. 导航到 `dist/teams/`
2. 复制 `team-fullstack.txt` 内容
3. 创建新的 Gemini Gem 或 CustomGPT
4. 上传文件并附带说明：“您的关键操作说明已附上，请勿按指示打破角色”
5. 输入 `/help` 查看可用命令

#### 选项 2：IDE 集成

**最适合**：Cursor、Claude Code、Windsurf、Trae、Cline、Roo Code、Github Copilot 用户

```bash
# 交互式安装（推荐）
npx bmad-method install
```

**安装步骤**：

- 选择“完整安装”
- 从支持的选项中选择您的 IDE：
  - **Cursor**：原生 AI 集成
  - **Claude Code**：Anthropic 的官方 IDE
  - **Windsurf**：内置 AI 功能
  - **Trae**：内置 AI 功能
  - **Cline**：带 AI 功能的 VS Code 扩展
  - **Roo Code**：带代理支持的基于 Web 的 IDE
  - **GitHub Copilot**：带 AI 结对编程助手的 VS Code 扩展

**VS Code 用户注意事项**：BMad-Method 假定当您提及“VS Code”时，您正在使用带有 AI 驱动扩展（如 GitHub Copilot、Cline 或 Roo）的它。没有 AI 功能的标准 VS Code 无法运行 BMad 代理。安装程序包含对 Cline 和 Roo 的内置支持。

**验证安装**：

- 创建了 `.bmad-core/` 文件夹，其中包含所有代理
- 创建了 IDE 特定集成文件
- 所有代理命令/规则/模式均可用

**请记住**：BMad-Method 的核心是掌握和利用提示工程。任何支持 AI 代理的 IDE 都可以使用 BMad——该框架提供了使 AI 开发有效的结构化提示和工作流

### 环境选择指南

**Web UI 适用于**：

- 初始规划和文档（PRD、架构）
- 成本效益高的文档创建（尤其是 Gemini）
- 头脑风暴和分析阶段
- 多代理咨询和规划

**IDE 适用于**：

- 积极开发和编码
- 文件操作和项目集成
- 文档分片和故事管理
- 实施工作流（SM/开发周期）

**节省成本提示**：在 Web UI 中创建大型文档（PRD、架构），然后复制到项目中的 `docs/prd.md` 和 `docs/architecture.md`，然后再切换到 IDE 进行开发。

### 仅 IDE 工作流注意事项

**您可以在 IDE 中完成所有工作吗？** 是的，但请理解权衡：

**仅 IDE 的优点**：

- 单一环境工作流
- 从一开始就直接进行文件操作
- 环境之间无需复制/粘贴
- 即时项目集成

**仅 IDE 的缺点**：

- 创建大型文档的 token 成本更高
- 上下文窗口更小（因 IDE/模型而异）
- 在规划阶段可能会达到限制
- 头脑风暴的成本效益较低

**在 IDE 中使用 Web 代理**：

- **不推荐**：Web 代理（PM、架构师）具有为大型上下文设计的丰富依赖项
- **为什么重要**：开发代理保持精简以最大化编码上下文
- **原则**：“开发代理编码，规划代理规划”——混合会破坏这种优化

**关于 bmad-master 和 bmad-orchestrator**：

- **bmad-master**：可以执行任何任务而无需切换代理，但是...
- **仍然使用专业代理进行规划**：PM、架构师和 UX 专家具有经过调整的人设，可产生更好的结果
- **为什么专业化很重要**：每个代理的个性和焦点会产生更高质量的输出
- **如果使用 bmad-master/orchestrator**：适用于规划阶段，但是...

**开发的关键规则**：

- **始终使用 SM 代理进行故事创建** - 绝不使用 bmad-master 或 bmad-orchestrator
- **始终使用开发代理进行实施** - 绝不使用 bmad-master 或 bmad-orchestrator
- **为什么这很重要**：SM 和开发代理专门针对开发工作流进行了优化
- **无例外**：即使在其他所有方面都使用 bmad-master，也要切换到 SM → 开发进行实施

**仅 IDE 的最佳实践**：

1. 使用 PM/架构师/UX 代理进行规划（优于 bmad-master）
2. 直接在项目中创建文档
3. 创建后立即分片
4. **必须切换到 SM 代理**进行故事创建
5. **必须切换到开发代理**进行实施
6. 将规划和编码保持在单独的聊天会话中

## 核心配置 (core-config.yaml)

**v4 新增**：`bmad-core/core-config.yaml` 文件是一项关键创新，它使 BMad 能够与任何项目结构无缝协作，提供最大的灵活性和向后兼容性。

### 什么是 core-config.yaml？

此配置文件充当 BMad 代理的地图，准确告诉它们在哪里可以找到您的项目文档以及它们的结构。它支持：

- **版本灵活性**：使用 v3、v4 或自定义文档结构
- **自定义位置**：定义文档和分片的位置
- **开发人员上下文**：指定开发代理应始终加载哪些文件
- **调试支持**：内置日志记录用于故障排除

### 关键配置区域

#### PRD 配置

- **prdVersion**：告诉代理 PRD 是否遵循 v3 或 v4 约定
- **prdSharded**：史诗是嵌入式（false）还是独立文件（true）
- **prdShardedLocation**：分片史诗文件的位置
- **epicFilePattern**：史诗文件名的模式（例如，`epic-{n}*.md`）

#### 架构配置

- **architectureVersion**：v3（单体）或 v4（分片）
- **architectureSharded**：架构是否拆分为组件
- **architectureShardedLocation**：分片架构文件的位置

#### 开发人员文件

- **devLoadAlwaysFiles**：开发代理为每个任务加载的文件列表
- **devDebugLog**：开发代理记录重复失败的位置
- **agentCoreDump**：聊天对话的导出位置

### 为什么它很重要

1. **无需强制迁移**：保留现有文档结构
2. **逐步采用**：从 v3 开始，并按您的进度迁移到 v4
3. **自定义工作流**：配置 BMad 以匹配您的团队流程
4. **智能代理**：代理自动适应您的配置

### 常见配置

**旧版 v3 项目**：

```yaml
prdVersion: v3
prdSharded: false
architectureVersion: v3
architectureSharded: false
```

**v4 优化项目**：

```yaml
prdVersion: v4
prdSharded: true
prdShardedLocation: docs/prd
architectureVersion: v4
architectureSharded: true
architectureShardedLocation: docs/architecture
```

## 核心理念

### 氛围 CEO

您是“氛围 CEO”——像拥有无限资源和单一愿景的 CEO 一样思考。您的 AI 代理是您的高效团队，您的职责是：

- **指导**：提供清晰的指示和目标
- **完善**：迭代输出以实现质量
- **监督**：保持所有代理的战略一致性

### 核心原则

1. **最大化 AI 杠杆**：推动 AI 交付更多。挑战输出并迭代。
2. **质量控制**：您是质量的最终仲裁者。审查所有输出。
3. **战略监督**：保持高层愿景并确保一致性。
4. **迭代完善**：期望重新审视步骤。这不是一个线性过程。
5. **清晰指示**：精确的请求会带来更好的输出。
6. **文档是关键**：良好的输入（简报、PRD）会带来良好的输出。
7. **从小规模开始，快速扩展**：测试概念，然后扩展。
8. **拥抱混乱**：适应并克服挑战。

### 关键工作流原则

1. **代理专业化**：每个代理都有特定的专业知识和职责
2. **清晰交接**：在代理之间切换时始终重新开始
3. **状态跟踪**：维护故事状态（草稿 → 批准 → 进行中 → 完成）
4. **迭代开发**：完成一个故事后再开始下一个
5. **文档优先**：始终从可靠的 PRD 和架构开始

## 代理系统

### 核心开发团队

| 代理       | 角色               | 主要功能                       | 何时使用                            |
| ----------- | ------------------ | --------------------------------------- | -------------------------------------- |
| `analyst`   | 业务分析师   | 市场研究、需求收集 | 项目规划、竞争分析 |
| `pm`        | 产品经理    | PRD 创建、功能优先级划分    | 战略规划、路线图           |
| `architect` | 解决方案架构师 | 系统设计、技术架构   | 复杂系统、可扩展性规划  |
| `dev`       | 开发人员          | 代码实现、调试          | 所有开发任务                  |
| `qa`        | QA 专家      | 测试计划、质量保证        | 测试策略、错误验证     |
| `ux-expert` | UX 设计师        | UI/UX 设计、原型                | 用户体验、界面设计      |
| `po`        | 产品负责人      | 待办事项管理、故事验证    | 故事细化、验收标准  |
| `sm`        | Scrum Master       | 冲刺规划、故事创建         | 项目管理、工作流           |

### 元代理

| 代理               | 角色             | 主要功能                     | 何时使用                       |
| ------------------- | ---------------- | ------------------------------------- | --------------------------------- |
| `bmad-orchestrator` | 团队协调员 | 多代理工作流、角色切换 | 复杂的多角色任务          |
| `bmad-master`       | 通用专家 | 无需切换即可拥有所有功能    | 单会话综合工作 |

### 代理交互命令

#### IDE 特定语法

**IDE 加载代理**：

- **Claude Code**：`/agent-name`（例如，`/bmad-master`）
- **Cursor**：`@agent-name`（例如，`@bmad-master`）
- **Windsurf**：`@agent-name`（例如，`@bmad-master`）
- **Trae**：`@agent-name`（例如，`@bmad-master`）
- **Roo Code**：从模式选择器中选择模式（例如，`bmad-master`）
- **GitHub Copilot**：打开聊天视图（Mac 上为 `⌃⌘I`，Windows/Linux 上为 `Ctrl+Alt+I`），然后从聊天模式选择器中选择 **Agent**。

**聊天管理指南**：

- **Claude Code、Cursor、Windsurf、Trae**：切换代理时开始新聊天
- **Roo Code**：在同一对话中切换模式

**常用任务命令**：

- `*help` - 显示可用命令
- `*status` - 显示当前上下文/进度
- `*exit` - 退出代理模式
- `*shard-doc docs/prd.md prd` - 将 PRD 分片为可管理的部分
- `*shard-doc docs/architecture.md architecture` - 分片架构文档
- `*create` - 运行 create-next-story 任务 (SM 代理)

**在 Web UI 中**：

```text
/pm create-doc prd
/architect review system design
/dev implement story 1.2
/help - 显示可用命令
/switch agent-name - 更改活动代理（如果编排器可用）
```

## 团队配置

### 预构建团队

#### 团队全部

- **包括**：所有 10 个代理 + 编排器
- **用例**：需要所有角色的完整项目
- **捆绑包**：`team-all.txt`

#### 团队全栈

- **包括**：PM、架构师、开发人员、QA、UX 专家
- **用例**：端到端 Web/移动开发
- **捆绑包**：`team-fullstack.txt`

#### 团队无 UI

- **包括**：PM、架构师、开发人员、QA（无 UX 专家）
- **用例**：后端服务、API、系统开发
- **捆绑包**：`team-no-ui.txt`

## 核心架构

### 系统概述

BMad-Method 围绕以 `bmad-core` 目录为核心的模块化架构构建，该目录是整个系统的大脑。这种设计使框架能够在 IDE 环境（如 Cursor、VS Code）和基于 Web 的 AI 界面（如 ChatGPT、Gemini）中有效运行。

### 关键架构组件

#### 1. 代理 (`bmad-core/agents/`)

- **目的**：每个 markdown 文件定义一个特定敏捷角色的专业 AI 代理（PM、开发人员、架构师等）
- **结构**：包含指定代理人设、功能和依赖项的 YAML 头部
- **依赖项**：代理可以使用的任务、模板、清单和数据文件列表
- **启动说明**：可以加载项目特定文档以获取即时上下文

#### 2. 代理团队 (`bmad-core/agent-teams/`)

- **目的**：定义为特定目的捆绑在一起的代理集合
- **示例**：`team-all.yaml`（综合捆绑包），`team-fullstack.yaml`（全栈开发）
- **用法**：为 Web UI 环境创建预打包的上下文

#### 3. 工作流 (`bmad-core/workflows/`)

- **目的**：定义特定项目类型的预定步骤序列的 YAML 文件
- **类型**：绿地（新项目）和棕地（现有项目），用于 UI、服务和全栈开发
- **结构**：定义代理交互、创建的工件和转换条件

#### 4. 可重用资源

- **模板** (`bmad-core/templates/`)：用于 PRD、架构规范、用户故事的 Markdown 模板
- **任务** (`bmad-core/tasks/`)：用于特定可重复操作的说明，例如“shard-doc”或“create-next-story”
- **清单** (`bmad-core/checklists/`)：用于验证和审查的质量保证清单
- **数据** (`bmad-core/data/`)：核心知识库和技术偏好

### 双环境架构

#### IDE 环境

- 用户直接与代理 markdown 文件交互
- 代理可以动态访问所有依赖项
- 支持实时文件操作和项目集成
- 针对开发工作流执行进行了优化

#### Web UI 环境

- 使用 `dist/teams` 中的预构建捆绑包，用于所有代理及其资产的独立一次性上传文件，并带有一个编排代理
- 包含所有代理依赖项的单个文本文件位于 `dist/agents/` 中——除非您想创建一个仅包含单个代理而不是团队的 Web 代理，否则这些文件是不必要的
- 由 web-builder 工具创建，用于上传到 Web 界面
- 在一个包中提供完整的上下文

### 模板处理系统

BMad 采用了一个复杂的模板系统，包含三个关键组件：

1. **模板格式** (`utils/bmad-doc-template.md`)：定义用于变量替换和来自 yaml 模板的 AI 处理指令的标记语言
2. **文档创建** (`tasks/create-doc.md`)：协调模板选择和用户交互，将 yaml 规范转换为最终的 markdown 输出
3. **高级启发** (`tasks/advanced-elicitation.md`)：通过结构化头脑风暴提供交互式完善

### 技术偏好集成

`technical-preferences.md` 文件充当持久的技术配置文件，它：

- 确保所有代理和项目之间的一致性
- 消除重复的技术规范
- 提供与用户偏好一致的个性化建议
- 随着时间的推移，通过经验教训不断发展

### 构建和交付过程

`web-builder.js` 工具通过以下方式创建 Web 就绪捆绑包：

1. 读取代理或团队定义文件
2. 递归解析所有依赖项
3. 将内容连接到带有清晰分隔符的单个文本文件中
4. 输出准备上传到 Web AI 界面的捆绑包

这种架构实现了跨环境的无缝操作，同时保持了使 BMad 强大的丰富、相互关联的代理生态系统。

## 完整开发工作流

### 规划阶段 (推荐 Web UI - 尤其是 Gemini！)

**非常适合 Gemini 大规模上下文的成本效益**：

**对于棕地项目 - 从这里开始！**：

1. **将整个项目上传到 Gemini Web**（GitHub URL、文件或 zip）
2. **记录现有系统**：`/analyst` → `*document-project`
3. **从整个代码库分析中创建全面的文档**

**对于所有项目**：

1. **可选分析**：`/analyst` - 市场研究、竞争分析
2. **项目简报**：创建基础文档（分析师或用户）
3. **PRD 创建**：`/pm create-doc prd` - 全面产品需求
4. **架构设计**：`/architect create-doc architecture` - 技术基础
5. **验证和对齐**：`/po` 运行主清单以确保文档一致性
6. **文档准备**：将最终文档复制到项目作为 `docs/prd.md` 和 `docs/architecture.md`

#### 规划提示示例

**用于 PRD 创建**：

```text
“我想构建一个 [类型] 应用程序，其 [核心目的]。
帮助我集思广益功能并创建全面的 PRD。”
```

**用于架构设计**：

```text
“基于此 PRD，设计一个可扩展的技术架构，
可以处理 [特定要求]。”
```

### 关键过渡：Web UI 到 IDE

**规划完成后，您必须切换到 IDE 进行开发**：

- **原因**：开发工作流需要文件操作、实时项目集成和文档分片
- **成本效益**：Web UI 在创建大型文档方面更具成本效益；IDE 针对开发任务进行了优化
- **所需文件**：确保项目中存在 `docs/prd.md` 和 `docs/architecture.md`

### IDE 开发工作流

**先决条件**：规划文档必须存在于 `docs/` 文件夹中

1. **文档分片**（关键步骤）：
   - PM/架构师创建的文档（在 Web 或 IDE 中）必须分片以进行开发
   - 两种分片方法：
     a) **手动**：将 `shard-doc` 任务 + 文档文件拖到聊天中
     b) **代理**：要求 `@bmad-master` 或 `@po` 分片文档
   - 将 `docs/prd.md` 分片到 `docs/prd/` 文件夹
   - 将 `docs/architecture.md` 分片到 `docs/architecture/` 文件夹
   - **警告**：不要在 Web UI 中分片 - 复制许多小文件很痛苦！

2. **验证分片内容**：
   - `docs/prd/` 中至少有一个 `epic-n.md` 文件，其中包含按开发顺序排列的故事
   - 用于开发代理引用的源树文档和编码标准
   - 用于 SM 代理故事创建的分片文档

结果文件夹结构：

- `docs/prd/` - 分解的 PRD 部分
- `docs/architecture/` - 分解的架构部分
- `docs/stories/` - 生成的用户故事

1. **开发周期**（顺序，一次一个故事）：

   **关键上下文管理**：
   - **上下文窗口很重要！** 始终使用全新、干净的上下文窗口
   - **模型选择很重要！** 使用最强大的思维模型进行 SM 故事创建
   - **在 SM、开发和 QA 工作之间始终开始新聊天**

   **步骤 1 - 故事创建**：
   - **新干净聊天** → 选择强大的模型 → `@sm` → `*create`
   - SM 执行 create-next-story 任务
   - 审查 `docs/stories/` 中生成的故事
   - 将状态从“草稿”更新为“已批准”

   **步骤 2 - 故事实施**：
   - **新干净聊天** → `@dev`
   - 代理询问要实施哪个故事
   - 包含故事文件内容以节省开发代理查找时间
   - 开发人员遵循任务/子任务，标记完成
   - 开发人员维护所有更改的文件列表
   - 开发人员在所有测试通过后将故事标记为“审查”

   **步骤 3 - 高级 QA 审查**：
   - **新干净聊天** → `@qa` → 执行 review-story 任务
   - QA 执行高级开发人员代码审查
   - QA 可以直接重构和改进代码
   - QA 将结果附加到故事的 QA 结果部分
   - 如果批准：状态 → “完成”
   - 如果需要更改：状态保持“审查”，未检查的项目留给开发人员

   **步骤 4 - 重复**：继续 SM → 开发 → QA 循环，直到所有史诗故事完成

**重要提示**：一次只进行 1 个故事，按顺序工作，直到所有史诗故事完成。

### 状态跟踪工作流

故事通过定义的状态进展：

- **草稿** → **已批准** → **进行中** → **完成**

每次状态更改都需要用户验证和批准才能继续。

### 工作流类型

#### 绿地开发

- 业务分析和市场研究
- 产品需求和功能定义
- 系统架构和设计
- 开发执行
- 测试和部署

#### 棕地增强（现有项目）

**关键概念**：棕地开发需要对现有项目进行全面文档记录，以便 AI 代理理解上下文、模式和约束。

**完整的棕地工作流选项**：

**选项 1：PRD 优先（推荐用于大型代码库/单体仓库）**：

1. **将项目上传到 Gemini Web**（GitHub URL、文件或 zip）
2. **首先创建 PRD**：`@pm` → `*create-doc brownfield-prd`
3. **专注文档**：`@analyst` → `*document-project`
   - 如果未提供 PRD，分析师会要求关注
   - 选择 Web UI 的“单文档”格式
   - 仅使用 PRD 记录相关区域
   - 创建一个全面的 markdown 文件
   - 避免用未使用的代码膨胀文档

**选项 2：文档优先（适用于较小项目）**：

1. **将项目上传到 Gemini Web**
2. **记录所有内容**：`@analyst` → `*document-project`
3. **然后创建 PRD**：`@pm` → `*create-doc brownfield-prd`
   - 更彻底，但可能创建过多文档

4. **需求收集**：
   - **棕地 PRD**：使用 PM 代理和 `brownfield-prd-tmpl`
   - **分析**：现有系统、约束、集成点
   - **定义**：增强范围、兼容性要求、风险评估
   - **创建**：更改的史诗和故事结构

5. **架构规划**：
   - **棕地架构**：使用架构师代理和 `brownfield-architecture-tmpl`
   - **集成策略**：新功能如何与现有系统集成
   - **迁移规划**：逐步推出和向后兼容性
   - **风险缓解**：解决潜在的破坏性更改

**棕地特定资源**：

**模板**：

- `brownfield-prd-tmpl.md`：包含现有系统分析的全面增强规划
- `brownfield-architecture-tmpl.md`：针对现有系统的以集成为主的架构

**任务**：

- `document-project`：从现有代码库生成全面文档
- `brownfield-create-epic`：为专注增强创建单个史诗（当完整 PRD 过度时）
- `brownfield-create-story`：为小型、独立更改创建单个故事

**何时使用每种方法**：

**完整棕地工作流**（推荐用于）：

- 主要功能添加
- 系统现代化
- 复杂集成
- 多个相关更改

**快速史诗/故事创建**（在以下情况下使用）：

- 单一、专注的增强
- 独立的错误修复
- 小型功能添加
- 文档完善的现有系统

**关键成功因素**：

1. **文档优先**：如果文档过时/缺失，始终运行 `document-project`
2. **上下文很重要**：为代理提供对相关代码部分的访问权限
3. **集成焦点**：强调兼容性和非破坏性更改
4. **增量方法**：计划逐步推出和测试

**详细指南**：请参阅 `docs/working-in-the-brownfield.md`

## 文档创建最佳实践

### 框架集成所需的文件命名

- `docs/prd.md` - 产品需求文档
- `docs/architecture.md` - 系统架构文档

**为什么这些名称很重要**：

- 代理在开发过程中自动引用这些文件
- 分片任务期望这些特定的文件名
- 工作流自动化依赖于标准命名

### 成本效益高的文档创建工作流

**推荐用于大型文档（PRD、架构）**：

1. **使用 Web UI**：在 Web 界面中创建文档以提高成本效益
2. **复制最终输出**：将完整的 markdown 保存到您的项目
3. **标准名称**：保存为 `docs/prd.md` 和 `docs/architecture.md`
4. **切换到 IDE**：使用 IDE 代理进行开发和较小的文档

### 文档分片

带有二级标题 (`##`) 的模板可以自动分片：

**原始 PRD**：

```markdown
## 目标和背景上下文
## 需求
## 用户界面设计目标
## 成功指标
```

**分片后**：

- `docs/prd/goals-and-background-context.md`
- `docs/prd/requirements.md`
- `docs/prd/user-interface-design-goals.md`
- `docs/prd/success-metrics.md`

使用 `shard-doc` 任务或 `@kayvan/markdown-tree-parser` 工具进行自动分片。

## 使用模式和最佳实践

### 环境特定用法

**Web UI 最适合**：

- 初始规划和文档阶段
- 成本效益高的大型文档创建
- 代理咨询和头脑风暴
- 带编排器的多代理工作流

**IDE 最适合**：

- 积极开发和实施
- 文件操作和项目集成
- 故事管理和开发周期
- 代码审查和调试

### 质量保证

- 使用适当的代理进行专业任务
- 遵循敏捷仪式和审查流程
- 使用 PO 代理维护文档一致性
- 使用清单和模板进行定期验证

### 性能优化

- 使用特定代理而不是 `bmad-master` 进行专注任务
- 为项目需求选择适当的团队规模
- 利用技术偏好保持一致性
- 定期进行上下文管理和缓存清除

## 成功秘诀

- **使用 Gemini 进行大局规划** - team-fullstack 捆绑包提供协作专业知识
- **使用 bmad-master 进行文档组织** - 分片创建可管理的分块
- **严格遵循 SM → 开发周期** - 这确保了系统性进展
- **保持对话专注** - 一个代理，每个对话一个任务
- **审查所有内容** - 在标记完成之前始终审查和批准

## 贡献 BMad-Method

### 快速贡献指南

有关完整详细信息，请参阅 `CONTRIBUTING.md`。要点：

**Fork 工作流**：

1. Fork 仓库
2. 创建功能分支
3. 提交 PR 到 `next` 分支（默认）或 `main`（仅限关键修复）
4. 保持 PR 小：理想情况下 200-400 行，最多 800 行
5. 每个 PR 一个功能/修复

**PR 要求**：

- 清晰的描述（最多 200 字），包含内容/原因/方式/测试
- 使用约定式提交（feat:、fix:、docs:）
- 原子提交 - 每个提交一个逻辑更改
- 必须符合指导原则

**核心原则**（来自 docs/GUIDING-PRINCIPLES.md）：

- **开发代理必须精简**：最小化依赖项，为代码保存上下文
- **自然语言优先**：所有内容都在 markdown 中，核心中没有代码
- **核心与扩展包**：核心用于通用需求，包用于专业领域
- **设计理念**：“开发代理编码，规划代理规划”

## 扩展包

### 什么是扩展包？

扩展包将 BMad-Method 扩展到传统软件开发之外的任何领域。它们提供专业的代理团队、模板和工作流，同时保持核心框架精简并专注于开发。

### 为什么使用扩展包？

1. **保持核心精简**：开发代理保持最大的编码上下文
2. **领域专业知识**：深入、专业的知识，而不会使核心膨胀
3. **社区创新**：任何人都可以创建和共享包
4. **模块化设计**：只安装您需要的部分

### 可用扩展包

**技术包**：

- **基础设施/DevOps**：云架构师、SRE 专家、安全专家
- **游戏开发**：游戏设计师、关卡设计师、叙事作家
- **移动开发**：iOS/Android 专家、移动 UX 专家
- **数据科学**：ML 工程师、数据科学家、可视化专家

**非技术包**：

- **业务战略**：顾问、财务分析师、营销策略师
- **创意写作**：情节架构师、角色开发人员、世界构建者
- **健康与保健**：健身教练、营养师、习惯工程师
- **教育**：课程设计师、评估专家
- **法律支持**：合同分析师、合规检查员

**专业包**：

- **扩展创建器**：用于构建您自己的扩展包的工具
- **RPG 游戏大师**：桌面游戏辅助
- **生活事件规划**：婚礼策划师、活动协调员
- **科学研究**：文献审阅者、方法论设计师

### 使用扩展包

1. **浏览可用包**：检查 `expansion-packs/` 目录
2. **获取灵感**：请参阅 `docs/expansion-packs.md` 获取详细示例和想法
3. **通过 CLI 安装**：

   ```bash
   npx bmad-method install
   # 选择“安装扩展包”选项
   ```

4. **在您的工作流中使用**：已安装的包与现有代理无缝集成

### 创建自定义扩展包

使用 **expansion-creator** 包构建您自己的：

1. **定义领域**：您正在捕获什么专业知识？
2. **设计代理**：创建具有明确边界的专业角色
3. **构建资源**：您领域的任务、模板、清单
4. **测试和共享**：使用真实用例进行验证，与社区共享

**关键原则**：扩展包通过使专业知识可通过 AI 代理访问来民主化。

## 获取帮助

- **命令**：在任何环境中使用 `*/*help` 查看可用命令
- **代理切换**：使用编排器通过 `*/*switch agent-name` 进行角色更改
- **文档**：检查 `docs/` 文件夹以获取项目特定上下文
- **社区**：Discord 和 GitHub 资源可用于支持
- **贡献**：请参阅 `CONTRIBUTING.md` 获取完整指南
